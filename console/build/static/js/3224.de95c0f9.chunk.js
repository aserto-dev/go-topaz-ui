"use strict";(self.webpackChunkself_hosted_console=self.webpackChunkself_hosted_console||[]).push([[3224],{63224:function(n,e,i){i.r(e),i.d(e,{default:function(){return M}});var t=i(72791),r=i(57689),o=i(59066),a=i(29439),d=i(56955);var l,c,h,s,u,p,x,f,g,m,v=i.p+"static/media/diagram.05e42da4cbc028703f69f555efb0ebd1.svg",y=i(39224),b=i(30168),j=i(91191),w=j.ZP.div(l||(l=(0,b.Z)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-right: 20px;\n  ",";\n  @media (max-width: 1028px) {\n    margin-bottom: 30px;\n    flex: 1;\n    margin-right: auto;\n    flex-direction: column;\n  }\n"])),(function(n){return n.$flex?"flex: 1":""})),Z=j.ZP.div(c||(c=(0,b.Z)(["\n  color: ",";\n  ",";\n  font-size: 18px;\n  margin-top: 20px;\n  font-weight: bold;\n  @media (min-width: 1028px) {\n    min-height: 160px;\n    max-height: calc(100vh - 18.6rem);\n    padding: 0 10px;\n    ","\n    ","\n  }\n\n  @media (max-width: 1028px) {\n    min-height: 130px;\n    pre {\n      padding: 0 20px;\n    }\n    ","\n  }\n\n  @media (max-width: 600px) {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.grey100}),(function(n){return n.$flex?"flex: 1":""}),(function(n){var e=n.$hasBorderLeft,i=n.theme;return e?"border-left: 1px solid ".concat(i.grey20,"; padding: 0 20px;"):""}),(function(n){return n.$fixed?(0,j.iv)(h||(h=(0,b.Z)(["\n            position: fixed;\n            margin-top: -2px;\n            width: 50%;\n            background-color: ",";\n            display: flex;\n          "])),(function(n){return n.theme.primaryBlack})):""}),(function(n){var e=n.$fixed,i=n.$shouldPad;return e?(0,j.iv)(s||(s=(0,b.Z)(["\n            position: fixed;\n            top: ","px;\n            width: 100%;\n            z-index: 2;\n            background-color: #121212;\n          "])),i?169:0):(0,j.iv)(u||(u=(0,b.Z)([""])))})),k=j.ZP.div(p||(p=(0,b.Z)(["\n  margin-bottom: 10px;\n  border-radius: 5px;\n  width: 100%;\n  display: flex;\n  text-align: start;\n  font-weight: 600;\n  a {\n    min-width: 318px;\n    padding: ","px;\n    background-color: ",";\n    color: ",";\n    &:hover {\n      background-color: ",";\n      color: ",";\n      text-decoration: none;\n    }\n    font-size: 14px;\n  }\n"])),(function(n){return n.$isSmall?"9px 20":20}),(function(n){return n.theme.grey20}),(function(n){return n.theme.grey20}),(function(n){return n.theme.grey40}),(function(n){return n.theme.grey100})),$=j.ZP.div(x||(x=(0,b.Z)(["\n  border-bottom: 2px solid ",";\n  background-color: ",";\n  color: ",";\n  font-weight: bold;\n  font-size: 14px;\n  padding: 20px 0px;\n  display: flex;\n  align-items: center;\n  ",";\n  @media (max-width: 1028px) {\n    ","\n  }\n"])),(function(n){return n.theme.grey40}),(function(n){return n.theme.primaryBlack}),(function(n){return n.theme.grey100}),(function(n){var e=n.height;return e?"height: ".concat(e,"px"):""}),(function(n){return n.shouldPadLeftWhenMobile?"padding-left: 20px":""})),_=(0,j.ZP)(o.Bq)(f||(f=(0,b.Z)(["\n  display: flex;\n  @media (max-width: 1028px) {\n    flex: 1;\n    flex-direction: column;\n  }\n  padding: 0 20px;\n  "," {\n    border-left: 1px solid ",";\n  }\n"])),Z,(function(n){return n.theme.grey20})),P=j.ZP.div(g||(g=(0,b.Z)(["\n  margin-top: 5px;\n  font-size: 14px;\n  max-width: 651px;\n  line-height: 20px;\n  h4 {\n    font-size: 14px;\n    font-weight: bold;\n  }\n  li {\n    margin-bottom: 5px;\n  }\n"]))),z=j.ZP.img(m||(m=(0,b.Z)(["\n  width: 100%;\n  max-height: 321px;\n  margin: 30px 0px;\n"]))),L=i(80184),C=function(n){var e=n.policyModules,i=n.fetchContent,r=n.isLoading,l=(0,t.useState)(!1),c=(0,a.Z)(l,2),h=c[0],s=c[1],u=(0,o.dD)().isMobile,p=(0,t.useState)(),x=(0,a.Z)(p,2),f=x[0],g=x[1],m=i(f),b={source_url:""};(0,t.useEffect)((function(){if(e&&0!==e.length){var n=e[0].id;!f&&n&&g(n)}}),[f,e]);var j=function(){return e&&0!==e.length?(0,L.jsx)(L.Fragment,{children:null===e||void 0===e?void 0:e.map((function(n){return(0,L.jsx)(k,{children:(0,L.jsx)(d.Z.Link,{className:"light-pills",eventKey:n.id,children:(0,L.jsx)("span",{children:n.package_path})})},n.id)}))}):null};return r?(0,L.jsx)(y.Z,{}):(0,L.jsx)(y.Z,{children:e?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(w,{style:{marginLeft:20},children:[(0,L.jsx)($,{children:"Module Name"}),(0,L.jsx)(Z,{$flex:!0,$paddingTop:18,children:(0,L.jsx)(d.Z,{activeKey:f,className:"flex-column",defaultActiveKey:f,variant:"pills",onSelect:function(n){g(null!==n&&void 0!==n?n:void 0),s(!0)},children:(0,L.jsx)(j,{})})})]}),(0,L.jsx)(_,{show:h,onCloseMobile:function(){return s(!1)},children:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)($,{shouldPadLeftWhenMobile:!0,children:"Definition"}),(0,L.jsx)(Z,{$flex:!0,$hasBorderLeft:!0,$paddingTop:18,children:u?(0,L.jsx)(o.cC,{}):(0,L.jsx)(o.y$,{language:"rego",children:m})})]})})]}):(0,L.jsxs)(P,{children:[(0,L.jsx)("h4",{children:"Hey, where's my policy?"}),(0,L.jsx)("div",{children:"Aserto is building your policy, pushing it to the registry, and triggering the authorizer to pull it. The process typically takes about 30 seconds. This is what happens:"}),(0,L.jsx)(z,{src:v}),(0,L.jsx)("h4",{children:"What to do next"}),(0,L.jsxs)("ul",{children:[(0,L.jsx)("li",{children:"Click the Refresh button at the top right of this page to see if there are any errors from the authorizer."}),(0,L.jsxs)("li",{children:["Check that"," ",(0,L.jsx)("a",{href:"".concat(null===b||void 0===b?void 0:b.source_url,"/actions"),rel:"noopener noreferrer",target:"_blank",children:"the Action on the policy repository"})," ","built an image."]}),(0,L.jsx)("li",{children:"Verify the Policy settings (left side of this screen)."})]})]})})},M=function(){var n=(0,r.UO)().id,e=(0,o.T0)({authorizerInstance:n},"id,package_path,raw"),i=e.data,a=e.isLoading,d=e.error,l=(0,t.useMemo)((function(){if(i&&i.result)return i.result.map((function(n){var e;return{id:n.id,package_path:null===(e=n.package_path)||void 0===e?void 0:e.replace("data.",""),raw:n.raw}})).sort((function(n,e){return n.package_path<e.package_path?-1:1}))}),[i]);return(0,L.jsx)(C,{fetchContent:function(n){var e;return(null===l||void 0===l||null===(e=l.find((function(e){return e.id===n})))||void 0===e?void 0:e.raw)||""},isLoading:a||!!d,policyModules:l})}}}]);
//# sourceMappingURL=3224.de95c0f9.chunk.js.map