"use strict";(self.webpackChunkself_hosted_console=self.webpackChunkself_hosted_console||[]).push([[5871],{37669:function(n,e,t){t.d(e,{Z:function(){return w}});var i,a,r,o,l=t(29439),d=t(72791),u=t(38222),s=t(46430),c=function(){return(0,d.useMemo)((function(){var n=function(n,e){var t=(0,s.iZ)(n,{enabled:n!==e});return(0,d.useMemo)((function(){var n,e,i;return{isAvailable:!(null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.availability)||"NAME_AVAILABILITY_AVAILABLE"===(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.availability),reason:(0,u.AP)(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.reason)}}),[null===t||void 0===t?void 0:t.data])};return function(e,t){return(0,d.useMemo)((function(){return(0,u.wL)(n)}),[])(e,t)}}),[])},h=/^[a-z][a-z0-9-]{3,29}$/,f=/^[a-z][a-z0-9-]{0,29}$/,x=function(n){return h.test(n)?"VALID":0===n.length||f.test(n)?"VALID_FRAGMENT":"INVALID"},v={getValidityOf:x,isValid:function(n){return"VALID"===x(n)},ruleText:"Start with a letter. Must be 4 to 30 lowercase alphanumeric characters or dashes."},p=t(30168),j=t(91191),y=j.ZP.div(i||(i=(0,p.Z)(["\n  padding: 20px;\n  width: 100%;\n"]))),b=j.ZP.div(a||(a=(0,p.Z)(["\n  margin-top: 18px;\n"]))),m=j.ZP.div(r||(r=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin: 12px auto;\n"]))),Z=j.ZP.div(o||(o=(0,p.Z)(["\n  width: 100%;\n  flex: 1 1 0%;\n  justify-content: flex-end;\n  align-items: flex-end;\n  float: right;\n  display: flex;\n  margin-top: 20px;\n  button:first-of-type {\n    margin-right: 10px;\n  }\n"]))),g=t(80184),w=function(n){var e=n.authorizerInstance,t=n.show,i=n.onHide,a=(0,d.useState)(""),r=(0,l.Z)(a,2),o=r[0],h=r[1],f=(0,d.useState)(""),x=(0,l.Z)(f,2),p=x[0],j=x[1],w=(0,d.useState)(""),z=(0,l.Z)(w,2),A=z[0],C=z[1],k=function(){h(""),j(""),C("")},I=(0,u.dV)(),P=(0,s.TA)({onError:function(n){I(n)}}).mutate;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(u.AY,{cardHeight:"100%",show:t,title:"Connect an authorizer",onHide:function(){k(),i()},children:(0,g.jsxs)(y,{className:"add-a-authorizer-modal-content",children:[(0,g.jsx)("div",{children:"Provide a unique name and click the Add button."}),(0,g.jsxs)(b,{children:[(0,g.jsx)(m,{children:(0,g.jsx)(u.as,{autoFocus:!0,defaultValue:null===e||void 0===e?void 0:e.name,disabled:!(null===e||void 0===e||!e.name),label:"Instance Name",useIsAvailable:c(),validator:v,value:null===e||void 0===e?void 0:e.name,onChange:function(n){return h(n||"")}})}),(0,g.jsx)(m,{children:(0,g.jsx)(u.as,{label:"Instance URL",value:null===e||void 0===e?void 0:e.url,onChange:function(n){return j(n||"")}})}),(0,g.jsx)(m,{children:(0,g.jsx)(u.as,{label:"API Key (Optional)",type:"password",value:null===e||void 0===e?void 0:e.apiKey,onChange:function(n){return C(n||"")}})})]}),(0,g.jsxs)(Z,{children:[(0,g.jsx)(u.zx,{"data-testid":"cancel-btn",variant:"secondary",onClick:function(){k(),i()},children:"Cancel"}),(0,g.jsx)(u.zx,{"data-testid":"add-authorizer-modal-btn",disabled:""===o||""===p,id:"add-authorizer",type:"submit",onClick:function(){i(),P({name:o,url:p,apiKey:A})},children:"Save"})]})]})})})}},85871:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var i,a,r,o,l,d,u,s,c,h=t(29439),f=t(76998),x=t.n(f),v=t(72791),p=t(57689),j=t(38222),y=t(46430),b=t(30168),m=t(91191),Z=m.ZP.div(i||(i=(0,b.Z)(["\n  padding: 20px;\n  width: 100%;\n  height: fit-content;\n"]))),g=m.ZP.div(a||(a=(0,b.Z)(["\n  font-size: 16px;\n"]))),w=(m.ZP.div(r||(r=(0,b.Z)(["\n  display: flex;\n  font-weight: ",";\n"])),(function(n){return n.bold?"bold":500})),m.ZP.div(o||(o=(0,b.Z)(["\n  input {\n    width: 600px;\n  }\n"]))),m.ZP.div(l||(l=(0,b.Z)(["\n  width: 100%;\n  flex: 1 1 0%;\n  justify-content: flex-start;\n  align-items: flex-start;\n  float: right;\n  display: flex;\n  margin-top: 60px;\n  button:first-of-type {\n    margin-right: 10px;\n  }\n"])))),z=t(80184),A=function(n){var e=n.onHide,t=n.show,i=n.subject,a=n.onClickRemove,r=e;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(j.AY,{cardHeight:"100%",show:t,title:"Delete ".concat(i),variant:"delete_danger",onHide:r,children:(0,z.jsxs)(Z,{children:[(0,z.jsxs)(g,{children:["Are you sure you want to delete your ",i,"?"]}),(0,z.jsxs)(w,{children:[(0,z.jsx)(j.zx,{variant:"secondary",onClick:r,children:"Cancel"}),(0,z.jsx)(j.zx,{"data-testid":"delete-subject",variant:"danger",onClick:a,children:"Delete"})]})]})})})},C=t(37669),k=(m.ZP.div(d||(d=(0,b.Z)(["\n  font-weight: ",";\n  font-size: ",";\n  color: ",";\n  padding-top: 8px;\n"])),(function(n){return n.bold?"bold":100}),(function(n){return n.size}),(function(n){return n.color})),m.ZP.div(u||(u=(0,b.Z)(["\n  padding-left: 90px;\n  display: block;\n"])))),I=m.ZP.div(s||(s=(0,b.Z)(["\n  font-family: Roboto;\n  width: 130px;\n  padding-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n"]))),P=function(n){var e=n.authorizerInstance,t=(0,v.useState)(!1),i=(0,h.Z)(t,2),a=i[0],r=i[1],o=(0,v.useState)(!1),l=(0,h.Z)(o,2),d=l[0],u=l[1],s=(0,v.useState)(!1),c=(0,h.Z)(s,2),f=c[0],x=c[1],b=(0,j.dV)(),m=(0,p.s0)(),Z=(0,y.ld)({onSuccess:function(){m("/ui/authorizers")},onError:function(n){x(!1),b(n)},onMutate:function(){return x(!0)}}).mutateAsync;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(j.cC,{show:f}),(0,z.jsx)(C.Z,{authorizerInstance:e,show:d,onHide:function(){return u(!1)}}),(0,z.jsx)(A,{redirectUrl:"/",show:a,subject:"Authorizer",onClickRemove:function(){return n=e.name,void Z(n);var n},onHide:function(){return r(!1)}}),(0,z.jsx)(k,{children:(0,z.jsxs)(I,{children:[(0,z.jsx)(j.zx,{"data-testid":"add-authorizer-btn",id:"add-a-authorizer",onClick:function(){u(!0)},children:"Edit"}),(0,z.jsx)(j.zx,{"data-testid":"delete-authorizer",disabled:!e||a,variant:"danger",onClick:function(){r(!0)},children:"Delete"})]})})]})},S=t(33481),V=t(39224),D=m.ZP.div(c||(c=(0,b.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 1rem 6rem;\n  input {\n    width: 700px;\n  }\n  label {\n    font-size: 14px;\n  }\n"]))),L=function(){var n=(0,p.UO)().id,e=(0,S.z)(),t=e.asertoDirectoryUrl,i=e.directoryApiKey,a=e.directoryTenantId,r=(0,v.useState)(""),o=(0,h.Z)(r,2),l=o[0],d=o[1],u=(0,v.useState)(""),s=(0,h.Z)(u,2),c=s[0],f=s[1],b=(0,y.GJ)().data,m=(0,v.useMemo)((function(){return(null===b||void 0===b?void 0:b.results)||[]}),[null===b||void 0===b?void 0:b.results]),Z=(0,v.useMemo)((function(){return null===m||void 0===m?void 0:m.find((function(e){return e.name===n}))}),[m,n]);return(0,v.useEffect)((function(){f((null===Z||void 0===Z?void 0:Z.apiKey)||""),d((null===Z||void 0===Z?void 0:Z.url)||"")}),[Z]),(0,z.jsx)(V.Z,{children:(0,z.jsxs)("div",{children:[(0,z.jsx)(D,{children:(0,z.jsx)(j.Gc,{defaultValue:n,disabled:!0,label:"Authorizer Instance Name",readOnly:!0,onClickCopy:x()})}),(0,z.jsx)(D,{children:(0,z.jsx)(j.Gc,{disabled:!0,label:"Authorizer Service URL",readOnly:!0,value:l,onClickCopy:x()})}),(0,z.jsx)(D,{hidden:!c,children:(0,z.jsx)(j.Gc,{disabled:!0,label:"Authorizer API key",placeholder:"****************************************************************",readOnly:!0,shouldShowHideShowButton:!0,type:"password",value:c,onClickCopy:x()})}),(0,z.jsx)(D,{children:(0,z.jsx)(j.Gc,{defaultValue:t,disabled:!0,label:"Directory Service URL",onClickCopy:x()})}),i&&""!==i&&(0,z.jsx)(D,{children:(0,z.jsx)(j.Gc,{defaultValue:i,disabled:!0,label:"Directory API key",placeholder:"****************************************************************",shouldShowHideShowButton:!0,type:"password",onClickCopy:x()})}),a&&""!==a&&(0,z.jsx)(D,{children:(0,z.jsx)(j.Gc,{defaultValue:a,disabled:!0,label:"Directory Tenant ID",onClickCopy:x()})}),(0,z.jsx)(P,{authorizerInstance:{apiKey:c,name:n,url:l}})]})})}}}]);
//# sourceMappingURL=5871.930ba7b9.chunk.js.map