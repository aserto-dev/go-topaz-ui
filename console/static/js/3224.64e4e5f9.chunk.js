"use strict";(self.webpackChunkself_hosted_console=self.webpackChunkself_hosted_console||[]).push([[3224],{63224:function(n,e,i){i.r(e),i.d(e,{default:function(){return M}});var t=i(72791),r=i(65996),o=i(50678),a=i(56955);var l,d,c,h,s,u,p,x,f,g,m=i.p+"static/media/diagram.05e42da4cbc028703f69f555efb0ebd1.svg",v=i(25732),y=i(17186),b=i(89854),j=b.ZP.div(l||(l=(0,y.Z)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-right: 20px;\n  ",";\n  @media (max-width: 1028px) {\n    margin-bottom: 30px;\n    flex: 1;\n    margin-right: auto;\n    flex-direction: column;\n  }\n"])),(function(n){return n.$flex?"flex: 1":""})),w=b.ZP.div(d||(d=(0,y.Z)(["\n  color: ",";\n  ",";\n  font-size: 18px;\n  margin-top: 20px;\n  font-weight: bold;\n  @media (min-width: 1028px) {\n    min-height: 160px;\n    max-height: calc(100vh - 18.6rem);\n    padding: 0 10px;\n    ","\n    ","\n  }\n\n  @media (max-width: 1028px) {\n    min-height: 130px;\n    pre {\n      padding: 0 20px;\n    }\n    ","\n  }\n\n  @media (max-width: 600px) {\n    font-size: 14px;\n  }\n"])),(function(n){return n.theme.grey100}),(function(n){return n.$flex?"flex: 1":""}),(function(n){var e=n.$hasBorderLeft,i=n.theme;return e?"border-left: 1px solid ".concat(i.grey20,"; padding: 0 20px;"):""}),(function(n){return n.$fixed?(0,b.iv)(c||(c=(0,y.Z)(["\n            position: fixed;\n            margin-top: -2px;\n            width: 50%;\n            background-color: ",";\n            display: flex;\n          "])),(function(n){return n.theme.primaryBlack})):""}),(function(n){var e=n.$fixed,i=n.$shouldPad;return e?(0,b.iv)(h||(h=(0,y.Z)(["\n            position: fixed;\n            top: ","px;\n            width: 100%;\n            z-index: 2;\n            background-color: #121212;\n          "])),i?169:0):(0,b.iv)(s||(s=(0,y.Z)([""])))})),Z=b.ZP.div(u||(u=(0,y.Z)(["\n  margin-bottom: 10px;\n  border-radius: 5px;\n  width: 100%;\n  display: flex;\n  text-align: start;\n  font-weight: 600;\n  a {\n    min-width: 318px;\n    padding: ","px;\n    background-color: ",";\n    color: ",";\n    &:hover {\n      background-color: ",";\n      color: ",";\n      text-decoration: none;\n    }\n    font-size: 14px;\n  }\n"])),(function(n){return n.$isSmall?"9px 20":20}),(function(n){return n.theme.grey20}),(function(n){return n.theme.grey20}),(function(n){return n.theme.grey40}),(function(n){return n.theme.grey100})),k=b.ZP.div(p||(p=(0,y.Z)(["\n  border-bottom: 2px solid ",";\n  background-color: ",";\n  color: ",";\n  font-weight: bold;\n  font-size: 14px;\n  padding: 20px 0px;\n  display: flex;\n  align-items: center;\n  ",";\n  @media (max-width: 1028px) {\n    ","\n  }\n"])),(function(n){return n.theme.grey40}),(function(n){return n.theme.primaryBlack}),(function(n){return n.theme.grey100}),(function(n){var e=n.height;return e?"height: ".concat(e,"px"):""}),(function(n){return n.shouldPadLeftWhenMobile?"padding-left: 20px":""})),$=(0,b.ZP)(r.Bq)(x||(x=(0,y.Z)(["\n  display: flex;\n  @media (max-width: 1028px) {\n    flex: 1;\n    flex-direction: column;\n  }\n  padding: 0 20px;\n  "," {\n    border-left: 1px solid ",";\n  }\n"])),w,(function(n){return n.theme.grey20})),_=b.ZP.div(f||(f=(0,y.Z)(["\n  margin-top: 5px;\n  font-size: 14px;\n  max-width: 651px;\n  line-height: 20px;\n  h4 {\n    font-size: 14px;\n    font-weight: bold;\n  }\n  li {\n    margin-bottom: 5px;\n  }\n"]))),P=b.ZP.img(g||(g=(0,y.Z)(["\n  width: 100%;\n  max-height: 321px;\n  margin: 30px 0px;\n"]))),z=i(80184),L=function(n){var e=n.policyModules,i=n.fetchContent,l=n.isLoading,d=(0,t.useState)(!1),c=(0,o.Z)(d,2),h=c[0],s=c[1],u=(0,r.dD)().isMobile,p=(0,t.useState)(),x=(0,o.Z)(p,2),f=x[0],g=x[1],y=i(f),b={source_url:""};(0,t.useEffect)((function(){if(e&&0!==e.length){var n=e[0].id;!f&&n&&g(n)}}),[f,e]);var L=function(){return e&&0!==e.length?(0,z.jsx)(z.Fragment,{children:null===e||void 0===e?void 0:e.map((function(n){return(0,z.jsx)(Z,{children:(0,z.jsx)(a.Z.Link,{className:"light-pills",eventKey:n.id,children:(0,z.jsx)("span",{children:n.package_path})})},n.id)}))}):null};return l?(0,z.jsx)(v.Z,{}):(0,z.jsx)(v.Z,{children:e?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(j,{style:{marginLeft:20},children:[(0,z.jsx)(k,{children:"Module Name"}),(0,z.jsx)(w,{$flex:!0,$paddingTop:18,children:(0,z.jsx)(a.Z,{activeKey:f,className:"flex-column",defaultActiveKey:f,variant:"pills",onSelect:function(n){g(null!==n&&void 0!==n?n:void 0),s(!0)},children:(0,z.jsx)(L,{})})})]}),(0,z.jsx)($,{show:h,onCloseMobile:function(){return s(!1)},children:(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(k,{shouldPadLeftWhenMobile:!0,children:"Definition"}),(0,z.jsx)(w,{$flex:!0,$hasBorderLeft:!0,$paddingTop:18,children:u?(0,z.jsx)(r.cC,{}):(0,z.jsx)(r.y$,{language:"rego",children:y})})]})})]}):(0,z.jsxs)(_,{children:[(0,z.jsx)("h4",{children:"Hey, where's my policy?"}),(0,z.jsx)("div",{children:"Aserto is building your policy, pushing it to the registry, and triggering the authorizer to pull it. The process typically takes about 30 seconds. This is what happens:"}),(0,z.jsx)(P,{src:m}),(0,z.jsx)("h4",{children:"What to do next"}),(0,z.jsxs)("ul",{children:[(0,z.jsx)("li",{children:"Click the Refresh button at the top right of this page to see if there are any errors from the authorizer."}),(0,z.jsxs)("li",{children:["Check that"," ",(0,z.jsx)("a",{href:"".concat(null===b||void 0===b?void 0:b.source_url,"/actions"),rel:"noopener noreferrer",target:"_blank",children:"the Action on the policy repository"})," ","built an image."]}),(0,z.jsx)("li",{children:"Verify the Policy settings (left side of this screen)."})]})]})})},C=i(11717),M=function(){var n=(0,C.Gt)().configurationName,e=(0,r.T0)({authorizerInstance:n},"id,package_path,raw"),i=e.data,o=e.isLoading,a=e.error,l=(0,t.useMemo)((function(){if(i&&i.result)return i.result.map((function(n){var e;return{id:n.id,package_path:null===(e=n.package_path)||void 0===e?void 0:e.replace("data.",""),raw:n.raw}})).sort((function(n,e){return n.package_path<e.package_path?-1:1}))}),[i]);return(0,z.jsx)(L,{fetchContent:function(n){var e;return(null===l||void 0===l||null===(e=l.find((function(e){return e.id===n})))||void 0===e?void 0:e.raw)||""},isLoading:o||!!a,policyModules:l})}}}]);
//# sourceMappingURL=3224.64e4e5f9.chunk.js.map