"use strict";(self.webpackChunkself_hosted_console=self.webpackChunkself_hosted_console||[]).push([[2459],{32459:(e,n,t)=>{t.r(n),t.d(n,{default:()=>C});var i=t(28381),r=t(16059),l=t(80538);const o=t.p+"static/media/diagram.05e42da4cbc028703f69f555efb0ebd1.svg";var a,d,s,h,c,p,x,g,u,m,f=t(58951),y=t(30168),v=t(86209);const b=v.ZP.div(a||(a=(0,y.Z)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-right: 20px;\n  ",";\n  @media (max-width: 1028px) {\n    margin-bottom: 30px;\n    flex: 1;\n    margin-right: auto;\n    flex-direction: column;\n  }\n"])),(e=>{let{$flex:n}=e;return n?"flex: 1":""})),j=v.ZP.div(d||(d=(0,y.Z)(["\n  color: ",";\n  ",";\n  font-size: 18px;\n  margin-top: 20px;\n  font-weight: bold;\n  @media (min-width: 1028px) {\n    min-height: 160px;\n    max-height: calc(100vh - 18.6rem);\n    padding: 0 10px;\n    ","\n    ","\n  }\n\n  @media (max-width: 1028px) {\n    min-height: 130px;\n    pre {\n      padding: 0 20px;\n    }\n    ","\n  }\n\n  @media (max-width: 600px) {\n    font-size: 14px;\n  }\n"])),(e=>{let{theme:n}=e;return n.grey100}),(e=>{let{$flex:n}=e;return n?"flex: 1":""}),(e=>{let{$hasBorderLeft:n,theme:t}=e;return n?"border-left: 1px solid ".concat(t.grey20,"; padding: 0 20px;"):""}),(e=>{let{$fixed:n}=e;return n?(0,v.iv)(s||(s=(0,y.Z)(["\n            position: fixed;\n            margin-top: -2px;\n            width: 50%;\n            background-color: ",";\n            display: flex;\n          "])),(e=>{let{theme:n}=e;return n.primaryBlack})):""}),(e=>{let{$fixed:n,$shouldPad:t}=e;return n?(0,v.iv)(h||(h=(0,y.Z)(["\n            position: fixed;\n            top: ","px;\n            width: 100%;\n            z-index: 2;\n            background-color: #121212;\n          "])),t?169:0):(0,v.iv)(c||(c=(0,y.Z)([""])))})),w=v.ZP.div(p||(p=(0,y.Z)(["\n  margin-bottom: 10px;\n  border-radius: 5px;\n  width: 100%;\n  display: flex;\n  text-align: start;\n  font-weight: 600;\n  a {\n    min-width: 318px;\n    padding: ","px;\n    background-color: ",";\n    color: ",";\n    &:hover {\n      background-color: ",";\n      color: ",";\n      text-decoration: none;\n    }\n    font-size: 14px;\n  }\n"])),(e=>{let{$isSmall:n}=e;return n?"9px 20":20}),(e=>{let{theme:n}=e;return n.grey20}),(e=>{let{theme:n}=e;return n.grey20}),(e=>{let{theme:n}=e;return n.grey40}),(e=>{let{theme:n}=e;return n.grey100})),k=v.ZP.div(x||(x=(0,y.Z)(["\n  border-bottom: 2px solid ",";\n  background-color: ",";\n  color: ",";\n  font-weight: bold;\n  font-size: 14px;\n  padding: 20px 0px;\n  display: flex;\n  align-items: center;\n  ",";\n  @media (max-width: 1028px) {\n    ","\n  }\n"])),(e=>{let{theme:n}=e;return n.grey40}),(e=>{let{theme:n}=e;return n.primaryBlack}),(e=>{let{theme:n}=e;return n.grey100}),(e=>{let{height:n}=e;return n?"height: ".concat(n,"px"):""}),(e=>{let{shouldPadLeftWhenMobile:n}=e;return n?"padding-left: 20px":""})),Z=(0,v.ZP)(r.Bq)(g||(g=(0,y.Z)(["\n  display: flex;\n  @media (max-width: 1028px) {\n    flex: 1;\n    flex-direction: column;\n  }\n  padding: 0 20px;\n  "," {\n    border-left: 1px solid ",";\n  }\n"])),j,(e=>{let{theme:n}=e;return n.grey20})),$=v.ZP.div(u||(u=(0,y.Z)(["\n  margin-top: 5px;\n  font-size: 14px;\n  max-width: 651px;\n  line-height: 20px;\n  h4 {\n    font-size: 14px;\n    font-weight: bold;\n  }\n  li {\n    margin-bottom: 5px;\n  }\n"]))),_=v.ZP.img(m||(m=(0,y.Z)(["\n  width: 100%;\n  max-height: 321px;\n  margin: 30px 0px;\n"])));var P=t(29343);const z=e=>{let{policyModules:n,fetchContent:t,isLoading:a}=e;const[d,s]=(0,i.useState)(!1),{isMobile:h}=(0,r.dD)(),[c,p]=(0,i.useState)(),x=t(c),g={source_url:""};(0,i.useEffect)((()=>{if(!n||0===n.length)return;const e=n[0].id;!c&&e&&p(e)}),[c,n]);const u=()=>n&&0!==n.length?(0,P.jsx)(P.Fragment,{children:null===n||void 0===n?void 0:n.map((e=>(0,P.jsx)(w,{children:(0,P.jsx)(l.Z.Link,{className:"light-pills",eventKey:e.id,children:(0,P.jsx)("span",{children:e.package_path})})},e.id)))}):null;return a?(0,P.jsx)(f.Z,{}):(0,P.jsx)(f.Z,{children:n?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(b,{style:{marginLeft:20},children:[(0,P.jsx)(k,{children:"Module Name"}),(0,P.jsx)(j,{$flex:!0,$paddingTop:18,children:(0,P.jsx)(l.Z,{activeKey:c,className:"flex-column",defaultActiveKey:c,variant:"pills",onSelect:e=>{p(null!==e&&void 0!==e?e:void 0),s(!0)},children:(0,P.jsx)(u,{})})})]}),(0,P.jsx)(Z,{show:d,onCloseMobile:()=>s(!1),children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(k,{shouldPadLeftWhenMobile:!0,children:"Definition"}),(0,P.jsx)(j,{$flex:!0,$hasBorderLeft:!0,$paddingTop:18,children:h?(0,P.jsx)(r.cC,{}):(0,P.jsx)(r.y$,{language:"rego",children:x})})]})})]}):(0,P.jsxs)($,{children:[(0,P.jsx)("h4",{children:"Hey, where's my policy?"}),(0,P.jsx)("div",{children:"Aserto is building your policy, pushing it to the registry, and triggering the authorizer to pull it. The process typically takes about 30 seconds. This is what happens:"}),(0,P.jsx)(_,{src:o}),(0,P.jsx)("h4",{children:"What to do next"}),(0,P.jsxs)("ul",{children:[(0,P.jsx)("li",{children:"Click the Refresh button at the top right of this page to see if there are any errors from the authorizer."}),(0,P.jsxs)("li",{children:["Check that"," ",(0,P.jsx)("a",{href:"".concat(null===g||void 0===g?void 0:g.source_url,"/actions"),rel:"noopener noreferrer",target:"_blank",children:"the Action on the policy repository"})," ","built an image."]}),(0,P.jsx)("li",{children:"Verify the Policy settings (left side of this screen)."})]})]})})};var L=t(11846);const C=()=>{const{configurationName:e}=(0,L.Gt)(),{data:n,isLoading:t,error:l}=(0,r.T0)({authorizerInstance:e},"id,package_path,raw"),o=(0,i.useMemo)((()=>{if(n&&n.result)return n.result.map((e=>{var n;return{id:e.id,package_path:null===(n=e.package_path)||void 0===n?void 0:n.replace("data.",""),raw:e.raw}})).sort(((e,n)=>e.package_path<n.package_path?-1:1))}),[n]);return(0,P.jsx)(z,{fetchContent:e=>{var n;return(null===o||void 0===o||null===(n=o.find((n=>n.id===e)))||void 0===n?void 0:n.raw)||""},isLoading:t||!!l,policyModules:o})}}}]);
//# sourceMappingURL=2459.7d3aa31b.chunk.js.map