{"version":3,"file":"static/js/4557.57175a1c.chunk.js","mappings":"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","sources":["api/internal.ts","lib/availability/UseIsAuthorizerInstanceNameAvailable.ts","lib/validation/AsertoNameValidator.ts","components/authorizers/AuthorizerModal/styles.tsx","components/authorizers/AuthorizerModal/index.tsx","assets/edge-authorizer-logo.svg","components/authorizers/AuthorizerCard/index.tsx","views/Authorizers/index.tsx","views/PolicyInstance/styles.tsx"],"sourcesContent":["import { useMutation, useQuery, useQueryClient, UseQueryOptions } from 'react-query'\n\nimport {\n  AddAuthorizerInstanceResponse,\n  AuthorizerInstance,\n  AuthorizerNameAvailableResponse,\n} from '../../common/types'\nimport { useInternalClient } from '../clients/InternalClient'\nimport {\n  MutationKeys,\n  QueryKeys,\n  ReactQueryMutationHooks,\n  useMutationOptions,\n} from '../types/local/general'\nimport { RpcStatus } from '../types/local/tenant'\n\nexport const useAuthorizerInstances = (\n  options?: Omit<\n    UseQueryOptions<\n      AddAuthorizerInstanceResponse,\n      RpcStatus,\n      AddAuthorizerInstanceResponse,\n      QueryKeys[]\n    >,\n    'queryKey' | 'queryFn' | 'retry' | 'staleTime'\n  >\n) => {\n  const { get } = useInternalClient()\n\n  return useQuery(\n    [QueryKeys.AuthorizerInstances],\n    (): Promise<AddAuthorizerInstanceResponse> => get({ path: 'authorizers' }),\n    {\n      ...options,\n      enabled: options?.enabled,\n      retry: false,\n      staleTime: Infinity,\n    }\n  )\n}\n\nexport const useAddAuthorizerInstance = (\n  reactQueryHooks: ReactQueryMutationHooks<AuthorizerInstance, {}> = {}\n) => {\n  const mutationOptions = useMutationOptions(reactQueryHooks)\n  const { post } = useInternalClient()\n  const queryClient = useQueryClient()\n\n  return useMutation(\n    [MutationKeys.AddAuthorizerInstance],\n    (body) =>\n      post({\n        body,\n        path: `authorizers`,\n      }),\n    {\n      ...mutationOptions,\n      onSuccess: (data, context) => {\n        queryClient.invalidateQueries([QueryKeys.AuthorizerInstances])\n        queryClient.removeQueries([QueryKeys.IsAuthorizerInstanceNameAvailable, data.name])\n        mutationOptions?.onSuccess?.(data, context)\n      },\n    }\n  )\n}\n\nexport const useRemoveAuthorizerInstance = (\n  mutationHooks: ReactQueryMutationHooks<{}, string> = {}\n) => {\n  const queryClient = useQueryClient()\n  const mutationOptions = useMutationOptions(mutationHooks, QueryKeys.PoliciesData)\n  const { del } = useInternalClient()\n  return useMutation((name) => del<{}>({ path: `authorizers/${name}` }), {\n    ...mutationOptions,\n    onSuccess: (data, context) => {\n      queryClient.removeQueries([QueryKeys.AuthorizerInstances])\n      mutationOptions?.onSuccess?.(data, context)\n    },\n  })\n}\n\nexport const useIsAuthorizerInstanceNameAvailable = (\n  instanceName: string,\n  options?: Omit<\n    UseQueryOptions<\n      AuthorizerNameAvailableResponse,\n      RpcStatus,\n      AuthorizerNameAvailableResponse,\n      QueryKeys[]\n    >,\n    'queryKey' | 'queryFn' | 'retry' | 'staleTime'\n  >\n) => {\n  const { get } = useInternalClient()\n  return useQuery(\n    [QueryKeys.IsAuthorizerInstanceNameAvailable, instanceName as QueryKeys],\n    () =>\n      get<AuthorizerNameAvailableResponse>({\n        path: `authorizers/available/${instanceName}`,\n      }),\n    {\n      ...options,\n      enabled: !!instanceName && options?.enabled,\n      retry: false,\n      staleTime: Infinity,\n    }\n  )\n}\n","import { useMemo } from 'react'\nimport {\n  getAvailabilityReasonForConsole,\n  useIsAvailableDebounced,\n  UseIsNameAvailable,\n} from '@aserto/console-common'\n\nimport { useIsAuthorizerInstanceNameAvailable } from '../../api/internal'\n\nconst useIsAuthorizerNameAvailable = (): UseIsNameAvailable =>\n  useMemo(() => {\n    const useIsAuthorizerNameAvailableInternal = (name: string, defaultName: string) => {\n      const queryResult = useIsAuthorizerInstanceNameAvailable(name, {\n        enabled: name !== defaultName,\n      })\n\n      const response = useMemo(() => {\n        const isAvailable =\n          !queryResult?.data?.availability ||\n          queryResult?.data?.availability === 'NAME_AVAILABILITY_AVAILABLE'\n\n        return {\n          isAvailable: isAvailable,\n          reason: getAvailabilityReasonForConsole(queryResult?.data?.reason),\n        }\n      }, [queryResult?.data])\n\n      return response\n    }\n\n    const useIsAuthorizerNameAvailableDebounced = (key: string, defaultkey: string) => {\n      const useRunTarget = () => useIsAvailableDebounced(useIsAuthorizerNameAvailableInternal)\n      const run = useMemo(useRunTarget, [])\n      return run(key, defaultkey)\n    }\n    return useIsAuthorizerNameAvailableDebounced\n  }, [])\n\nexport default useIsAuthorizerNameAvailable\n","import { Validator, Validity } from '@aserto/console-common'\n// Must start with a-z, and must be alphanumeric (or dashes) 6-30 characters\nconst ASERTO_NAME_REGEXP = /^[a-z][a-z0-9-]{3,29}$/\nconst ASERTO_NAME_FRAGMENT_REGEXP = /^[a-z][a-z0-9-]{0,29}$/\n\nconst getValidityOf = (name: string): Validity => {\n  if (ASERTO_NAME_REGEXP.test(name)) {\n    return 'VALID'\n  } else if (name.length === 0 || ASERTO_NAME_FRAGMENT_REGEXP.test(name)) {\n    return 'VALID_FRAGMENT'\n  }\n  return 'INVALID'\n}\n\nconst isValid = (name: string) => getValidityOf(name) === 'VALID'\n\nconst AsertoNameValidator: Validator<string> = {\n  getValidityOf,\n  isValid,\n  ruleText: 'Start with a letter. Must be 4 to 30 lowercase alphanumeric characters or dashes.',\n}\n\nexport default AsertoNameValidator\n","import styled from 'styled-components'\n\nexport const ContentContainer = styled.div`\n  padding: 20px;\n  width: 100%;\n`\n\nexport const FormContainer = styled.div`\n  margin-top: 18px;\n`\n\nexport const FieldContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin: 12px auto;\n`\n\nexport const ButtonsContainer = styled.div`\n  width: 100%;\n  flex: 1 1 0%;\n  justify-content: flex-end;\n  align-items: flex-end;\n  float: right;\n  display: flex;\n  margin-top: 20px;\n  button:first-of-type {\n    margin-right: 10px;\n  }\n`\n","import React, { useState } from 'react'\nimport { Button, CardModal, useShowError, ValidatedInput } from '@aserto/console-common'\n\nimport { AuthorizerInstance } from '../../../../common/types'\nimport { useAddAuthorizerInstance } from '../../../api/internal'\nimport useIsAuthorizerNameAvailable from '../../../lib/availability/UseIsAuthorizerInstanceNameAvailable'\nimport AsertoNameValidator from '../../../lib/validation/AsertoNameValidator'\nimport { ButtonsContainer, ContentContainer, FieldContainer, FormContainer } from './styles'\n\nexport type AuthorizerModalProps = {\n  authorizerInstance?: AuthorizerInstance\n  show: boolean\n  onSuccess?: () => void\n  onHide: () => void\n}\n\nconst AuthorizerModal: React.FC<AuthorizerModalProps> = ({ authorizerInstance, show, onHide }) => {\n  const [instanceName, setInstanceName] = useState('')\n  const [instanceUrl, setInstanceUrl] = useState('')\n  const [apiKey, setApiKey] = useState('')\n  const clearModalState = () => {\n    setInstanceName('')\n    setInstanceUrl('')\n    setApiKey('')\n  }\n  const showError = useShowError()\n\n  const { mutate: addAuthorizerInstace } = useAddAuthorizerInstance({\n    onError: (e) => {\n      showError(e)\n    },\n  })\n\n  return (\n    <>\n      <CardModal\n        cardHeight=\"100%\"\n        show={show}\n        title=\"Connect an authorizer\"\n        onHide={() => {\n          clearModalState()\n          onHide()\n        }}\n      >\n        <ContentContainer className=\"add-a-authorizer-modal-content\">\n          <div>Provide a unique name and click the Add button.</div>\n          <FormContainer>\n            <FieldContainer>\n              <ValidatedInput\n                defaultValue={authorizerInstance?.name}\n                disabled={!!authorizerInstance?.name}\n                label=\"Instance Name\"\n                useIsAvailable={useIsAuthorizerNameAvailable()}\n                validator={AsertoNameValidator}\n                value={authorizerInstance?.name}\n                onChange={(v) => setInstanceName(v || '')}\n              />\n            </FieldContainer>\n            <FieldContainer>\n              <ValidatedInput\n                label=\"Instance URL\"\n                value={authorizerInstance?.url}\n                onChange={(v) => setInstanceUrl(v || '')}\n              />\n            </FieldContainer>\n            <FieldContainer>\n              <ValidatedInput\n                label=\"API Key (Optional)\"\n                type=\"password\"\n                value={authorizerInstance?.apiKey}\n                onChange={(v) => setApiKey(v || '')}\n              />\n            </FieldContainer>\n          </FormContainer>\n          <ButtonsContainer>\n            <Button\n              data-testid=\"cancel-btn\"\n              variant=\"secondary\"\n              onClick={() => {\n                clearModalState()\n                onHide()\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              data-testid=\"add-authorizer-modal-btn\"\n              disabled={instanceName === '' || instanceUrl === ''}\n              id=\"add-authorizer\"\n              onClick={() => {\n                onHide()\n                addAuthorizerInstace({ name: instanceName, url: instanceUrl, apiKey: apiKey })\n              }}\n            >\n              Save\n            </Button>\n          </ButtonsContainer>\n        </ContentContainer>\n      </CardModal>\n    </>\n  )\n}\n\nexport default AuthorizerModal\n","var _path, _path2, _circle, _circle2, _circle3, _circle4, _circle5, _circle6, _defs;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgEdgeAuthorizerLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 36,\n    height: 36,\n    viewBox: \"0 0 36 36\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26 28C25.3838 28.0006 24.7689 27.9448 24.1628 27.8333C23.5754 27.7243 22.9989 27.5626 22.4406 27.35L27.9961 16.4516L32.6111 25.5011C32.1691 25.891 31.6938 26.2415 31.1906 26.5483C30.6826 26.8575 30.1481 27.1208 29.5933 27.335C29.029 27.5525 28.446 27.7183 27.8517 27.83C27.241 27.9436 26.6211 28.0004 26 28V28ZM33.9883 24.0167L26 8C26.677 7.9996 27.3522 8.06753 28.0155 8.20277C28.6588 8.33456 29.2875 8.52981 29.8923 8.78559C30.4871 9.03737 31.0559 9.34617 31.5911 9.70776C32.1222 10.0671 32.6178 10.4763 33.0711 10.93C33.5246 11.3834 33.9338 11.879 34.2933 12.41C34.6548 12.9452 34.9636 13.5142 35.2155 14.1089C35.4714 14.7139 35.6666 15.3426 35.7983 15.9861C35.933 16.6489 36.0006 17.3236 36 18C36.0011 19.0977 35.8213 20.1881 35.4678 21.2273C35.1259 22.2296 34.6265 23.171 33.9883 24.0162V24.0167ZM18.0117 24.0167C17.3734 23.1716 16.874 22.2302 16.5322 21.2278C16.1785 20.1885 15.9987 19.0979 16 18C15.9999 17.3217 16.0682 16.6451 16.2039 15.9805C16.3358 15.3387 16.5307 14.7114 16.7856 14.1077C17.0375 13.5132 17.3463 12.9445 17.7078 12.4095C18.0672 11.8784 18.4764 11.3828 18.93 10.9294C19.3833 10.4759 19.8789 10.0666 20.41 9.70722C20.9452 9.34567 21.5142 9.03687 22.1089 8.78505C22.7139 8.52935 23.3427 8.3341 23.9861 8.20223C24.6489 8.06748 25.3236 7.99972 26 8L18.0117 24.0167Z\",\n    fill: \"url(#paint0_linear_5_50)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 36C0.895431 36 -3.91405e-08 35.1046 -8.74228e-08 34L-1.48619e-06 2C-1.53447e-06 0.895431 0.895429 -3.91405e-08 2 -8.74228e-08V-8.74228e-08C3.10457 -1.35705e-07 4 0.89543 4 2L4 34C4 35.1046 3.10457 36 2 36V36Z\",\n    fill: \"#4A92FF\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 7,\n    cy: 22,\n    r: 1,\n    transform: \"rotate(-90 7 22)\",\n    fill: \"#4A92FF\"\n  })), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 10,\n    cy: 22,\n    r: 1,\n    transform: \"rotate(-90 10 22)\",\n    fill: \"#4A92FF\"\n  })), _circle3 || (_circle3 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 13,\n    cy: 22,\n    r: 1,\n    transform: \"rotate(-90 13 22)\",\n    fill: \"#4A92FF\"\n  })), _circle4 || (_circle4 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 7,\n    cy: 16,\n    r: 1,\n    transform: \"rotate(-90 7 16)\",\n    fill: \"#48B6BA\"\n  })), _circle5 || (_circle5 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 10,\n    cy: 16,\n    r: 1,\n    transform: \"rotate(-90 10 16)\",\n    fill: \"#48B6BA\"\n  })), _circle6 || (_circle6 = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 13,\n    cy: 16,\n    r: 1,\n    transform: \"rotate(-90 13 16)\",\n    fill: \"#48B6BA\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_5_50\",\n    x1: 26,\n    y1: 8,\n    x2: 26,\n    y2: 28,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#70D0D3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#048A8F\"\n  })))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdgeAuthorizerLogo);\nexport default __webpack_public_path__ + \"static/media/edge-authorizer-logo.b6aa92e6ceff9a4b8788311727d9f9c2.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport styled from 'styled-components'\nimport { UndecoratedLink, Variant } from '@aserto/console-common'\n\nimport Authorizer from '../../../assets/edge-authorizer-logo.svg'\nimport { Theme } from '../../../types/local/general'\nconst getStyleVariantForHeader = (variant: Variant = 'primary', theme: Theme) => {\n  const sharedStyle = `background-color: ${theme.mojo50}; color: ${theme.fullWhite}`\n  const styleObj = {\n    primary: `color: ${theme.grey100}; background-color: ${theme.grey20};`,\n    danger: `${sharedStyle}; border-bottom: 1px solid ${theme.grey50}`,\n    delete_danger: `${sharedStyle}; border-bottom: 0px solid ${theme.grey50}`,\n  }\n\n  return styleObj[variant]\n}\n\nconst CardContainer = styled.div<{\n  height?: number | string\n  width?: number | null\n  $fullHeight?: boolean\n}>`\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  height: ${({ height, $fullHeight }) => {\n    if ($fullHeight) {\n      return '100%'\n    }\n    if (height) {\n      return `${height}px`\n    }\n    return ''\n  }};\n  ${({ width }) => (!!width ? `width: ${width}px` : `width: 100%`)};\n  background-color: ${({ theme }) => theme.grey10};\n  position: relative;\n`\n\nconst CardHeader = styled.div<{ $variant?: Variant }>`\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  font-size: 24px;\n  font-weight: 500;\n  font-family: 'Roboto', sans-serif;\n  ${({ $variant, theme }) => getStyleVariantForHeader($variant, theme)}\n`\n\nconst CardText = styled.div<{ $variant?: string; bold?: boolean; isInModal?: boolean }>`\n  color: ${({ theme }) => theme.grey70};\n  font-weight: ${({ bold }) => (bold ? 'bold' : 500)};\n  ${({ isInModal }) => {\n    return isInModal ? '  padding: 0px 20px 20px;' : 'padding: 20px'\n  }};\n  font-size: 18px;\n`\n\nconst Overlay = styled.div<{ height?: number | string; width?: number | null }>`\n  background-color: ${({ theme }) => theme.primaryBlack};\n  height: 100%;\n  ${({ width }) => (!!width ? `width: ${width}px` : `width: 100%`)};\n  position: absolute;\n  opacity: 0.75;\n  z-index: 2;\n`\n\nconst CardBodyLogo = styled.img`\n  height: 80px;\n  width: 80px;\n  margin-right: 20px;\n`\n\nconst CardBody = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  &:first-child {\n    margin: auto;\n    width: 100%;\n    padding: 20px;\n  }\n`\n\nconst Title = styled.span`\n  margin-left: 10px;\n`\n\nexport type AuthorizerCardProps = {\n  title?: string\n  body?: string\n  text?: string | React.ReactElement\n  height?: number | string\n  width?: number | null\n  inactive?: boolean\n  style?: Theme\n  variant?: Variant\n  fullHeight?: boolean\n  testId?: string\n}\n\nexport const AuthorizerCard: React.FC<AuthorizerCardProps> = ({\n  title,\n  text,\n  height,\n  inactive,\n  width,\n  style,\n  variant,\n  fullHeight,\n  testId,\n  body,\n}) => {\n  return (\n    <UndecoratedLink to={`/ui/authorizers/${title}/settings`}>\n      <CardContainer\n        $fullHeight={fullHeight}\n        data-testid={testId}\n        height={height}\n        style={style}\n        width={width}\n      >\n        {inactive && <Overlay height={height} width={width} />}\n        {title && (\n          <CardHeader $variant={variant}>\n            <Title>{title}</Title> <CardBodyLogo src={Authorizer} />\n          </CardHeader>\n        )}\n        {typeof text === 'string' ? <CardText $variant={variant}>{text}</CardText> : text}\n        {body && <CardBody>{body}</CardBody>}\n      </CardContainer>\n    </UndecoratedLink>\n  )\n}\n","import React, { useMemo, useState } from 'react'\nimport { Button, PaddedContent, PageHeader, PageHeaderContent } from '@aserto/console-common'\n\nimport { useAuthorizerInstances } from '../../api/internal'\nimport { AuthorizerCard } from '../../components/authorizers/AuthorizerCard'\nimport AuthorizerModal from '../../components/authorizers/AuthorizerModal'\nimport { CardGrid, Header } from '../PolicyInstance/styles'\n\nconst Authorizers: React.FC = () => {\n  const { data } = useAuthorizerInstances()\n\n  const authorizerInstances = useMemo(() => {\n    return data?.results || []\n  }, [data?.results])\n\n  const [showAddAuthorizerModal, setShowAddAuthorizerModal] = useState(false)\n  const onClickAddAuthorizer = () => {\n    setShowAddAuthorizerModal(true)\n  }\n\n  return (\n    <>\n      <Header>\n        <PageHeader hasBorderBottom mobileBreakpoint={912} title=\"Authorizers\">\n          <PageHeaderContent>\n            <AuthorizerModal\n              show={showAddAuthorizerModal}\n              onHide={() => setShowAddAuthorizerModal(false)}\n            />\n            <Button\n              data-testid=\"add-authorizer-btn\"\n              id=\"add-a-authorizer\"\n              onClick={onClickAddAuthorizer}\n            >\n              Connect an Authorizer\n            </Button>\n          </PageHeaderContent>\n        </PageHeader>\n      </Header>\n      <PaddedContent paddingTop={140}>\n        <CardGrid>\n          {authorizerInstances!.map(function (data) {\n            return (\n              <AuthorizerCard\n                key={data.name}\n                fullHeight={true}\n                text={data.url}\n                title={data.name}\n              ></AuthorizerCard>\n            )\n          })}\n        </CardGrid>\n      </PaddedContent>\n    </>\n  )\n}\n\nexport default Authorizers\n","import styled from 'styled-components'\n\nexport const Grid = styled.div`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 100px 85px 1fr;\n  gap: 0px 0px;\n  grid-template-areas:\n    'header'\n    'sidebar'\n    'content';\n\n  @media (min-width: 1px) {\n  }\n\n  @media (min-width: 1328px) {\n    display: grid;\n    grid-template-columns: 250px 1.3fr 1fr;\n    grid-template-rows: 100px 1.7fr 1fr;\n    gap: 0px 0px;\n    grid-template-areas:\n      'header header header'\n      'sidebar content content'\n      'sidebar content content';\n  }\n  .decision-logs-content {\n    height: 100%;\n    overflow-x: hidden;\n  }\n`\n\nexport const Header = styled.div`\n  @media (min-width: 1328px) {\n    grid-area: header;\n  }\n`\n\nexport const Sidebar = styled.div`\n  @media (min-width: 1328px) {\n    grid-area: sidebar;\n  }\n`\n\nexport const Content = styled.div`\n  grid-area: content;\n  display: flex;\n  height: 100%;\n  width: 100%;\n`\n\nexport const CardGrid = styled.div`\n  padding: 40px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 426px);\n  grid-template-rows: repeat(auto-fit, 164px);\n  gap: 20px;\n  @media (max-width: 500px) {\n    grid-template-rows: repeat(auto-fit, 91px);\n    grid-template-columns: 1fr;\n  }\n`\n"],"names":["useAuthorizerInstances","options","get","useInternalClient","useQuery","QueryKeys","AuthorizerInstances","path","_objectSpread","enabled","retry","staleTime","Infinity","useAddAuthorizerInstance","reactQueryHooks","arguments","length","undefined","mutationOptions","useMutationOptions","post","queryClient","useQueryClient","useMutation","MutationKeys","AddAuthorizerInstance","body","onSuccess","data","context","_mutationOptions$onSu","invalidateQueries","removeQueries","IsAuthorizerInstanceNameAvailable","name","call","useRemoveAuthorizerInstance","mutationHooks","PoliciesData","del","concat","_mutationOptions$onSu2","useIsAuthorizerInstanceNameAvailable","instanceName","useMemo","useIsAuthorizerNameAvailableInternal","defaultName","queryResult","_queryResult$data","_queryResult$data2","_queryResult$data3","isAvailable","availability","reason","getAvailabilityReasonForConsole","key","defaultkey","useIsAvailableDebounced","run","ASERTO_NAME_REGEXP","ASERTO_NAME_FRAGMENT_REGEXP","getValidityOf","test","isValid","ruleText","ContentContainer","styled","div","_templateObject","_taggedTemplateLiteral","FormContainer","_templateObject2","FieldContainer","_templateObject3","ButtonsContainer","_templateObject4","_ref","authorizerInstance","show","onHide","_useState","useState","_useState2","_slicedToArray","setInstanceName","_useState3","_useState4","instanceUrl","setInstanceUrl","_useState5","_useState6","apiKey","setApiKey","clearModalState","showError","useShowError","addAuthorizerInstace","onError","e","mutate","_jsx","_Fragment","children","CardModal","cardHeight","title","_jsxs","className","ValidatedInput","defaultValue","disabled","label","useIsAvailable","useIsAuthorizerNameAvailable","validator","AsertoNameValidator","value","onChange","v","url","type","Button","variant","onClick","id","CardContainer","height","$fullHeight","_ref2","width","_ref3","theme","grey10","CardHeader","_ref4","sharedStyle","mojo50","fullWhite","primary","grey100","grey20","danger","grey50","delete_danger","getStyleVariantForHeader","$variant","CardText","_ref5","grey70","_ref6","bold","_ref7","isInModal","Overlay","_ref8","primaryBlack","_ref9","CardBodyLogo","img","_templateObject5","CardBody","_templateObject6","Title","span","_templateObject7","AuthorizerCard","_ref10","text","inactive","style","fullHeight","testId","UndecoratedLink","to","src","Authorizer","authorizerInstances","results","showAddAuthorizerModal","setShowAddAuthorizerModal","Header","PageHeader","hasBorderBottom","mobileBreakpoint","PageHeaderContent","AuthorizerModal","PaddedContent","paddingTop","CardGrid","map","Grid","Sidebar","Content"],"sourceRoot":""}